<!-- <mat-card>
  <mat-card-content>user works!</mat-card-content>
</mat-card> -->
<!-- <button (click)="this.storeService.onHandleChangeUserCount('up')">Add New User</button> -->

<!-- <form [formGroup]="userForm">
  Value: {{ userForm.value | json }}
  <hr>
  <input placeholder="โปรดระบุชื่อจริง" formControlName="firstName">
  <span *ngIf="userForm.get('firstName')?.touched && userForm.get('firstName')?.errors">โปรดระบุชื่อจริง</span>
  <input placeholder="โปรดระบุนามสกุล" formControlName="lastName">
  <span *ngIf="userForm.get('lastName')?.touched && userForm.get('lastName')?.errors">โปรดระบุนามสกุล</span>
  <input placeholder="phoneNumber" formControlName="phoneNumber">

  <mat-form-field class="w-full">
    <mat-label>Email</mat-label>
    <input type="email" matInput formControlName="email" placeholder="โปรดระบุอีเมล" [errorStateMatcher]="userForm.getError('email')">
    <mat-error *ngIf="userForm.hasError('email') && !userForm.hasError('required')">
      Please enter a valid email address
    </mat-error>
    <mat-error *ngIf="userForm.get('email')?.touched && userForm.get('email')?.errors">
      Email is <strong>required</strong>
    </mat-error>
  </mat-form-field>
</form> -->

<form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="flex flex-col">

  <div class="flex justify-between gap-3 py-5">
    <a mat-raised-button routerLink="/back-office/user">Back</a>
    <button mat-raised-button color="primary" type="submit">Confirm</button>
  </div>

  <!-- <div>
    Value: {{ userForm.value | json }}
  </div> -->

  <mat-grid-list cols="12">
    <div class="px-2 loading" *ngIf="isLoading">
      <mat-spinner></mat-spinner>
    </div>

    <mat-grid-tile colspan="5">
      <mat-form-field class="w-full px-2">
        <mat-label>First name</mat-label>
        <input matInput placeholder="Please enter first name" formControlName="firstName">
        <mat-error *ngIf="form.firstName.hasError('required')">
          This field is required.
        </mat-error>
        <mat-error *ngIf="!form.firstName.hasError('minLength') && !form.firstName.hasError('required')">
          The minimum length for this field is 2 characters.
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile colspan="5">
      <mat-form-field class="w-full px-2">
        <mat-label>Last name</mat-label>
        <input matInput placeholder="Please enter last name" formControlName="lastName">
        <mat-error *ngIf="form.lastName.hasError('required')">
          This field is required.
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile colspan="2">
      <mat-form-field class="w-full px-2">
        <mat-label>Age</mat-label>
        <input matInput placeholder="Please enter age" formControlName="age">
        <mat-error *ngIf="form.age.hasError('required')">
          This field is required.
        </mat-error>
        <!-- <mat-error *ngIf="form.age.hasError('maxlength') && !form.age.hasError('required')">
          The maximum length for this field is 2 characters.
        </mat-error> -->
        <mat-error *ngIf="form.age.hasError('pattern') && !form.age.hasError('required')">
          This field is Only number is support & maximum number is 99.
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile colspan="4">
      <mat-form-field class="w-full px-2">
        <mat-label>Select Position</mat-label>
        <mat-select formControlName="position">
          <mat-option value="Jr. Full-Stack Developer">Jr. Full-Stack Developer</mat-option>
          <mat-option value="Mid. Full-Stack Developer">Mid. Full-Stack Developer</mat-option>
          <mat-option value="Sr. Full-Stack Developer">Sr. Full-Stack Developer</mat-option>
          <mat-option value="Lead Full-Stack Developer">Lead Full-Stack Developer</mat-option>
        </mat-select>
        <mat-error *ngIf="form.position.hasError('required')">
          This field is required.
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile colspan="4">
      <mat-form-field class="w-full px-2">
        <mat-label>Email</mat-label>
        <input matInput placeholder="Please enter email" formControlName="email">
        <mat-error *ngIf="form.email.hasError('required')">
          This field is required.
        </mat-error>
        <mat-error *ngIf="form.email.hasError('email') && !form.email.hasError('required')">
          Please enter a valid email address.
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile colspan="4">
      <mat-form-field class="w-full px-2">
        <mat-label>Phone Number</mat-label>
        <input matInput placeholder="Please enter phonenumber" formControlName="phoneNumber">
        <mat-error *ngIf="form.phoneNumber.hasError('required')">
          This field is required.
        </mat-error>
        <mat-error *ngIf="form.phoneNumber.hasError('pattern') && !form.phoneNumber.hasError('required')">
          Please enter a valid thailand phone number.
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile colspan="4" (hidden)="this.route.snapshot.params['userId']">
      <mat-form-field class="w-full px-2">
        <mat-label>Password</mat-label>
        <input matInput placeholder="Please enter password" formControlName="password">
        <mat-error *ngIf="form.password.hasError('required')">
          This field is required.
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile colspan="4">
      <mat-form-field class="w-full px-2">
        <mat-label>User Code</mat-label>
        <input matInput placeholder="Please enter user code" formControlName="userCode">
        <mat-error *ngIf="form.userCode.hasError('required')">
          This field is required.
        </mat-error>
      </mat-form-field>
    </mat-grid-tile>
  </mat-grid-list>
</form>